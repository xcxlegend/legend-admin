<body layadmin-themealias="default">
<div class="layui-fluid">
    <div class="layui-row layui-col-space15">
        <div class="layui-col-md12">
            <div class="layui-card">
                <div class="layui-card-header">
                    节点管理
                </div>
                <div class="layui-card-body">
                    <p>1. 如果创建一级分组, 可将路由设置为#, 访问类型可不设置</p>
<p>2. 如果某个路由访问类型设置了ALL, 可不用设置(POST/PUT/DELETE/OPTIONS)的权限, 否则请设置二级节点, 置为非菜单</p>
<p>3. 如果某个路由下设置了其他的操作, 请单独设置路由和权限</p>
                </div>
            </div>
        </div>
        <div class="layui-col-md12">
            <div class="layui-card">
                <div class="layui-card-header">
                    List
                </div>
                <div class="layui-card-body">
                    <!-- <div class="layui-btn-group" id="toolbar" style="padding-bottom: 10px;"></div>-->
                    <table id="table" lay-filter="t"></table>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/html" id="toolbar">
    <div class="layui-btn-container">
        <button class="layui-btn layui-btn-normal table-oper-btn" lay-event="addOper">添加</button>
		<button class="layui-btn layui-btn-normal table-oper-btn" lay-event="editOper">编辑</button>
		<button class="layui-btn layui-btn-danger table-oper-btn" lay-event="delOper">删除</button>
        <button class="layui-btn layui-btn-normal table-oper-btn" lay-event="refreshOper">刷新</button>
    </div>
</script>
<script type="text/html" id="formBox">
    <div class="layui-form" id="" style="padding: 20px 30px 0 0;">
        <form class="layui-form" lay-filter="form" action="">
            __FORM_FIELDS__
            <input name="Id" type="hidden" value="0"/>
            <button class="form-submit-btn" lay-submit lay-filter="formBtn" style="display: none"></button>
        </form>
    </div>
</script>
<script>
    const URL = "/admin/node"
    const TABLE_COLS = [
	{
		"field": "Router",
		"title": "路由"
	},
	{
		"field": "RouterType",
		"title": "访问类型"
	},
	{
		"field": "Title",
		"title": "标题"
	},
	{
		"field": "Rid",
		"title": "上级ID"
	},
	{
		"field": "Sort",
		"title": "排序"
	},
	{
		"field": "State",
		"title": "状态"
	},
	{
		"field": "Icon",
		"title": "图标"
	},
	{
		"field": "IsMenu",
		"title": "是否菜单"
	}
]
    const FORM_FIELDS = [
	{
		"label": "路由",
		"name": "Router",
		"options": "",
		"options_url": "",
		"element": "input",
		"attrs": {
			"autocomplete": "off",
			"lay-verify": "",
			"type": "text"
		}
	},
	{
		"label": "访问类型",
		"name": "RouterType",
		"options": "RouterTypeSelector",
		"options_url": "",
		"element": "select",
		"attrs": {
			"autocomplete": "off",
			"lay-search": "",
			"lay-verify": ""
		}
	},
	{
		"label": "标题",
		"name": "Title",
		"options": "",
		"options_url": "",
		"element": "input",
		"attrs": {
			"autocomplete": "off",
			"lay-max": "32",
			"lay-min": "1",
			"lay-verify": "|required|length",
			"type": "text"
		}
	},
	{
		"label": "上级ID",
		"name": "Rid",
		"options": "",
		"options_url": "/admin/node",
		"element": "select",
		"attrs": {
			"autocomplete": "off",
			"lay-search": "",
			"lay-verify": ""
		}
	},
	{
		"label": "排序",
		"name": "Sort",
		"options": "",
		"options_url": "",
		"element": "input",
		"attrs": {
			"autocomplete": "off",
			"lay-verify": "",
			"type": "text"
		}
	},
	{
		"label": "状态",
		"name": "State",
		"options": "StateSelector",
		"options_url": "",
		"element": "select",
		"attrs": {
			"autocomplete": "off",
			"lay-search": "",
			"lay-verify": ""
		}
	},
	{
		"label": "图标",
		"name": "Icon",
		"options": "",
		"options_url": "",
		"element": "input",
		"attrs": {
			"autocomplete": "off",
			"lay-verify": "",
			"type": "text"
		}
	},
	{
		"label": "是否菜单",
		"name": "IsMenu",
		"options": "YesOrNoSelector",
		"options_url": "",
		"element": "select",
		"attrs": {
			"autocomplete": "off",
			"lay-search": "",
			"lay-verify": ""
		}
	}
]

    PageInit(URL, TABLE_COLS, FORM_FIELDS, function () {
    })
</script>
</body>
</html>